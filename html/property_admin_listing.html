{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Sheltos - Property Listing left sidebar page">
    <meta name="keywords" content="sheltos">
    <meta name="author" content="sheltos">
    <link rel="icon" href="{% static 'images/favicon.png'%}" type="image/x-icon" />
    <title>Sheltos - Property Listing left sidebar page</title>

   <!--Google font-->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,400i,500,500i,600,600i,700,700i,800,800i"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,400i,500,500i,700,700i&amp;display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Rubik:400,400i,500,500i,700,700i" rel="stylesheet">

    <!-- magnific css -->
    <link rel="stylesheet" type="text/css" href="{% static 'css/magnific-popup.css'%}">

    <!-- range slider css -->
    <link rel="stylesheet" type="text/css" href="{% static 'css/jquery-ui.css'%}">

    <!-- animate css -->
    <link rel="stylesheet" type="text/css" href="{% static 'css/animate.css'%}">

    <!-- Template css -->
    <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.css'%}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/color1.css'%}">

    <script>
      
        // Function to load the header component
        function loadHeader() {
            fetch("{% url 'header'%}")
                .then(response => response.text())
                .then(data => {
                    document.getElementById('header-container').innerHTML = data;
                })
                .catch(error => console.error('Error loading header:', error));
        }
        
        // Function to load the footer component
        function loadFooter() {
            fetch("{% url 'footer'%}")
                .then(response => response.text())
                .then(data => {
                    document.getElementById('footer-container').innerHTML = data;
                })
                .catch(error => console.error('Error loading footer:', error));
        }
        
        // Call the loadHeader and loadFooter functions when the DOM content is loaded
        document.addEventListener('DOMContentLoaded', function() {
            loadHeader();
            loadFooter();
        });
        
            </script> 

 <!-- jQuery UI CSS (for slider styles) -->
 <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
 <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
 <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css"/>
 <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
 
 <!-- Basic inline CSS for slider visibility -->
 <style>
     .theme-range-2 {
         width: 100%; /* Ensure the slider takes full width */
         margin: 20px 0;
     }
     .ui-slider-horizontal {
         height: 10px; /* Custom height for slider track */
         background: #ddd; /* Lighter background */
         border-radius: 5px;
     }
     .ui-slider-handle {
         height: 20px; /* Handle height */
         width: 20px;  /* Handle width */
         background-color: #007bff; /* Blue handle color */
         border-radius: 50%; /* Circular handle */
         border: none;
     }
 </style>

</head>

<body>

    <!-- Loader start -->
    <!-- <div class="loader-wrapper">
        <div class="row loader-img">
            <div class="col-12">
                <img src="{% static 'images/loader/loader-2.gif'%}" class="img-fluid" alt="">
            </div>
        </div>
    </div> -->
    <!-- Loader end -->

      <!-- header start -->
      <div id="header-container"></div>
      <!--  header end -->
    

 


    <!-- property grid start -->
    <section class="property-section">
        <div class="container">
            <div class="row ratio_63">
                
                <div class="col-xl-12 col-lg-8 property-grid-2">
                    <div class="filter-panel">
                        <div class="top-panel">
                            <div>
                                <h2 style="font-family: 'Times New Roman', Times, serif;">Properties Listing [ ADMIN VIEW ]</h2>
                                <span class="show-result">Showing <span style="color: black;">1-15 of 69</span> Listings</span>
                            </div>
                            <ul class="grid-list-filter d-flex">
                                <li>
                                    <div class="dropdown">
                                        <span class="dropdown-toggle font-rubik" data-bs-toggle="dropdown"><span>Sort by
                                                Newest</span> <i class="fas fa-angle-down ms-lg-3 ms-2"></i></span>
                                        <div class="dropdown-menu text-start">
                                            <a class="dropdown-item" href="javascript:void(0)">Sort by Newest</a>
                                            <a class="dropdown-item" href="javascript:void(0)">Sort by Oldest</a>
                                            <a class="dropdown-item" href="javascript:void(0)">Sory by featured</a>
                                            <a class="dropdown-item" href="javascript:void(0)">Sort by price (Low to
                                                high)</a>
                                        </div>
                                    </div>
                                </li>
                            
                                <li class="grid-btn">
                                    <a href="javascript:void(0)" class="grid-layout-view">
                                        <i data-feather="grid"></i>
                                    </a>
                                </li>
                                <li class="list-btn active">
                                    <a href="javascript:void(0)" class="list-layout-view">
                                        <i data-feather="list"></i>
                                    </a>
                                </li>
                                <li class="d-lg-none d-block">
                                    <div>
                                        <h6 class="mb-0 mobile-filter font-roboto">Advance search <i
                                                data-feather="align-center" class="float-end"></i></h6>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <style>
                        .list-btn.active a.list-layout-view {
                            border: 2px solid black !important; /* Changes the border to black */
                            color: black !important; /* Optional: Changes the icon color to black */
                        }
                    
                    .property-box {
                        height: 250px; /* Set the desired height for the card */
                        display: flex;
                        flex-direction: row; /* Make the image and content align horizontally */
                    }
                    
                    .property-image {
                        height: 100%; /* Ensures the image container is full height */
                        width: 40%; /* Adjust the width of the image container */
                        overflow: hidden;
                    }
                    
                    .property-image img {
                        height: 100%; /* Makes sure the image fills the container vertically */
                        width: 100%; /* Makes sure the image fills the container horizontally */
                        object-fit: cover; /* Crops the image to fit within the container */
                    }
                    
                    .property-details {
                        padding-left: 20px; /* Adjust the spacing between the image and content */
                        flex-grow: 1; /* Ensures the details take up the remaining space */
                        overflow: hidden;
                        display: flex;
                        flex-direction: column;
                        justify-content: center; /* Vertically centers the content */
                    }
                    </style>
                    <div class="property-wrapper-grid list-view">
                        <div class="property-2 row column-sm zoom-gallery property-label property-grid list-view">
                            <!-- Django template loop for fetching each property -->
                            
                            {% for property in properties %}
                            <div class="col-md-6 col-md-12 wow fadeInUp">
                                <div class="property-box">
                                    <div class="property-image">
                                        <div class="property-slider">
                                            <!-- Looping through the images for the property -->
                                            {% if property.first_image_url %}
                                                <a href="{% url 'property_admin' property.id %}">
                                                    <img src="{{ property.first_image_url }}" class="d-block w-100" alt="Property Image">
                                                </a>
                                            {% endif %}
                                        </div>
                                        <div class="labels-left">
                                            <div><a href="{% url 'property_admin' property.id %}">
                                                <span class="label label-shadow">{{ property.status }}</span></a>
                                            </div>
                                        </div>
                                        
                                        <div class="overlay-property-box">
                                            <a href="compare.html" class="effect-round" data-bs-toggle="tooltip" data-bs-placement="left" title="Compare"> 
                                                <i data-feather="shuffle"></i>
                                            </a>
                                            <a href="user-favourites.html" class="effect-round like" data-bs-toggle="tooltip" data-bs-placement="left" title="wishlist">
                                                <i data-feather="heart"></i>                                                                               
                                            </a>
                                        </div>
                                    </div>
                    
                                    <div class="property-details">
                                        <span class="font-roboto">{{ property.city }}</span>
                                            <a href="{% url 'property_admin' property.id %}">
                                                <h3>{{ property.property_name }}</h3>
                                            </a>
                                        <h6>â‚¹{{ property.property_price }}</h6>
                                        <p class="font-roboto">{{ property.description|truncatechars:150 }}</p>
                                        <ul>
                                            <li><img src="{% static 'images/svg/icon/double-bed.svg' %}" class="img-fluid" alt=""> Bed: {{ property.bedrooms }}</li>
                                            <li><img src="{% static 'images/svg/icon/bathroom.svg' %}" class="img-fluid" alt=""> Baths: {{ property.bathrooms }}</li>
                                            <li><img src="{% static 'images/svg/icon/square-ruler-tool.svg' %}" class="img-fluid" alt=""> Sq Ft: {{ property.property_area }}</li>
                                        </ul>
                                        <form method="POST" action="{% url 'approve_deny_property' property.id %}">
                                            {% csrf_token %}
                                            <button type="submit" name="action" value="approve" class="btn btn-success">Approve</button>
                                            <button type="submit" name="action" value="deny" class="btn btn-danger">Deny</button>
                                        </form>
                                        <div class="property-btn d-flex">
                                            <span>{{ property.date_posted|date:"F j, Y" }}</span>
                                            <a href="{% url 'property_admin' property.id %}"><button type="button" class="btn btn-dashed btn-pill color-2">Details</button></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {% empty %}
                            <p>No properties found matching your criteria.</p>
                            {% endfor %}
                        </div>
                    </div>
                    <style>

                        /* Remove border-radius for sharp corners on the property box */
                        .property-box {
                            border-radius: 0px !important; /* Ensures sharp corners */
                            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Optional: Adds a subtle shadow */
                            transition: box-shadow 0.3s ease; /* Smooth transition for hover effect */
                        }

                        /* Hover effect to enhance shadow on hover */
                        .property-box:hover {
                            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2); /* Darker shadow on hover */
                        }

                        /* Remove border-radius for all elements inside property-box */
                        .property-image, .property-details, .property-btn, .labels-left, .overlay-property-box {
                            border-radius: 0px !important; /* Ensures all corners remain sharp */
                        }

                        /* Style the buttons to have sharp corners */
                        .btn-pill {
                            border-radius: 0px !important; /* Removes rounded corners from buttons */
                        }

                        /* Optional: Sharpen the corners of images and labels */
                        .property-image img, .labels-left span, .overlay-property-box a {
                            border-radius: 0px !important; /* Ensures sharp corners for images and labels */
                        }
                        /* Set price to black */
                        .property-details h6 {
                            color: black !important; /* Forces the price text to be black */
                            font-weight: bold; /* Optional: Makes the price bold */
                        }


                    </style>
                    
                    <!-- Include Slick JS (Or any slider you're using) -->
                    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
                    
                    <!-- Initialize Slider -->
                    <script>
                        $(document).ready(function(){
                            $('.property-slider').slick({
                                dots: true,
                                infinite: true,
                                speed: 300,
                                slidesToShow: 1,
                                adaptiveHeight: true
                            });
                        });
                    </script>
                   
                </div>
            </div>
        </div>
    </section>
    <!-- property grid end -->
    

  <!-- footer start -->
  <div id="footer-container"></div>
  <!-- footer end -->

    <!-- tap to top start -->
    <div class="tap-top">
        <div>
            <i class="fas fa-arrow-up"></i>
        </div>
    </div>
    <!-- tap to top end -->

    <!-- customizer start -->
    <!-- <div class="customizer-wrap">
        <div class="customizer-links">
            <i data-feather="settings"></i>
        </div>
        <div class="customizer-contain custom-scrollbar">
            <div class="setting-back">
                <i data-feather="x"></i>
            </div>
            <div class="layouts-settings">
                <div class="customizer-title">
                    <h6 class="color-2">Layout type</h6>
                </div>
                <div class="option-setting">
                    <span>Light</span>
                    <label class="switch">
                        <input type="checkbox" name="chk1" value="option" class="setting-check"><span class="switch-state"></span>
                    </label>
                    <span>Dark</span>
                </div>
            </div>
            <div class="layouts-settings">
                <div class="customizer-title">
                    <h6 class="color-2">Layout Direction</h6>
                </div>
                <div class="option-setting">
                    <span>LTR</span>
                    <label class="switch">
                        <input type="checkbox" name="chk2" value="option" class="setting-check1"><span class="switch-state"></span>
                    </label>
                    <span>RTL</span>
                </div>
            </div>
            <div class="layouts-settings">
                <div class="customizer-title">
                    <h6 class="color-2">Unlimited Color</h6>
                </div>
                <div class="option-setting unlimited-color-layout">
                    <div class="form-group">
                        <label for="ColorPicker3">color 3</label>
                        <input id="ColorPicker3" type="color" value="#ff5c41" name="Default">
                    </div> 
                    <div class="form-group">
                        <label for="ColorPicker4">color 4</label>
                        <input id="ColorPicker4" type="color" value="#ff8c41" name="Default">
                    </div> 
                </div>
            </div>
        </div>
    </div> -->
    <!-- customizer end -->

    <!-- latest jquery-->
    <script src="{% static 'js/jquery-3.6.0.min.js'%}"></script>

    <!-- popper js-->
    <script src="{% static 'js/popper.min.js'%}"></script>

    <!-- magnific js -->
    <script src="{% static 'js/jquery.magnific-popup.js'%}"></script>
    <script src="{% static 'js/zoom-gallery.js'%}"></script>

    <!-- Bootstrap js-->
    <script src="{% static 'js/bootstrap.bundle.min.js'%}"></script>

    <!-- feather icon js-->
    <script src="{% static 'js/feather-icon/feather.min.js'%}"></script>
    <script src="{% static 'js/feather-icon/feather-icon.js'%}"></script>

    <!-- range slider js -->
    <script src="{% static 'js/jquery-ui.js'%}"></script>
    <script src="{% static 'js/jquery.ui.touch-punch.min.js'%}"></script>
    <script src="{% static 'js/range-slider.js'%}"></script>

    <!-- slick js -->
    <script src="{% static 'js/slick.js'%}"></script>
    <script src="{% static 'js/slick-animation.min.js'%}"></script>
    <script src="{% static 'js/custom-slick.js'%}"></script>

    <!-- wow js-->
    <script src="{% static 'js/wow.min.js'%}"></script>

    <!--grid js -->
    <script src="{% static 'js/grid-list.js'%}"></script>

    <!-- Template js-->
    <script src="{% static 'js/script.js'%}"></script>

    <!-- Customizer js-->
    <script src="{% static 'js/customizer.js'%}"></script>

    <!-- Color-picker js-->
    <script src="{% static 'js/color/template-color.js'%}"></script>

</body>

</html>